function resetMiliseconds(e){let a=(e%1e3).displace(3).slice(0,-1),s=Math.floor((e-a)/1e3),_=(s%60).displace(2),n=Math.floor(s/60%60).displace(2);return`${n} : ${_} . ${a}`}function addModal(e){$MODAL.removeClass("d-none"),$MODAL_TEXT.textContent=e}EventTarget.prototype.on=function(e,a,s){this.addEventListener(e,a,s)},Number.prototype.displace=function(e){return(this+"").padStart(e,0)},Element.prototype.addClass=function(e){this.classList.add(e)},Element.prototype.removeClass=function(e){this.classList.remove(e)};let referenceTime=Date.now(),time=!1,startChrono=0,startLap=0,hour12=!1,countLap=0,darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,lightMode=window.matchMedia("prefers-color-scheme: light").matches;const $=e=>document.querySelector(e),$APP=$("#app"),$MODAL=$("#modal"),$MODAL_TEXT=$("#modalText"),$MODAL_BTN=$("#modalBtn"),$MODAL_CONTAINER=$("#modalContainer"),$MODE_BTN_DARK=$("#modeBtnDark"),$MODE_BTN_LIGHT=$("#modeBtnLight"),$CLOCK=$("#clock"),$CLOCK_INPUT=$("#clockInput"),$CLOCK_BTN_HOUR12=$("#clockBtnHour12"),$CLOCK_BTN_HOUR24=$("#clockBtnHour24"),$CHRONO=$("#chrono"),$CHRONO_INPUT=$("#chronoInput"),$CHRONO_BTN_START=$("#chronoStart"),$CHRONO_BTN_LAP=$("#chronoLap"),$CHRONO_BTN_STOP=$("#chronoStop"),$CHRONO_BTN_RESET=$("#chronoReset"),$CHRONO_BTN_RESUME=$("#chronoResume"),$CHRONO_OUTPUT_LAP=$("#chronoOutputLap"),$CHRONO_INPUT_LAP=$("#chronoInputLap"),$CHRONO_TABLE_LAP=$("#chronoTableLap"),$CHRONO_BLOCK_LAP=$("#chronoBlockLap"),$TIMER=$("#timer"),$TIMER_BTN=$("#timerBtn"),$TIMER_INPUT_HOUR=$("#timerInputHour"),$TIMER_INPUT_MINUTE=$("#timerInputMinute"),$TIMER_INPUT_SECOND=$("#timerInputSecond"),$MENU_BTN_SHOW_TIME=$("#btnTime"),$MENU_BTN_SHOW_CHRONO=$("#btnChrono"),$MENU_BTN_TIMER=$("#btnTimer");setInterval(()=>{let e=new Date,a=e.getHours(),s=e.getMinutes(),_=e.getSeconds(),n="";hour12&&(n="PM",a>12&&(a-=12,n="AM"),a="00"==a?"12":a),a=a.displace(2),s=s.displace(2),_=_.displace(2),$CLOCK_INPUT.value=`${a} : ${s} : ${_} ${n}`}),setInterval(()=>{startChrono+=time?Date.now()-referenceTime:0,startLap+=time?Date.now()-referenceTime:0,referenceTime=Date.now(),$CHRONO_INPUT.value=resetMiliseconds(startChrono),$CHRONO_INPUT_LAP.value=resetMiliseconds(startLap)},1e3/17+10),$CLOCK_BTN_HOUR12.on("click",()=>{$CLOCK_BTN_HOUR12.addClass("d-none"),$CLOCK_BTN_HOUR24.removeClass("d-none"),hour12=!0}),$CLOCK_BTN_HOUR24.on("click",()=>{$CLOCK_BTN_HOUR12.removeClass("d-none"),$CLOCK_BTN_HOUR24.addClass("d-none"),hour12=!1}),$CHRONO_BTN_START.on("click",()=>{time=!0,$CHRONO_BTN_LAP.disabled=!1,$CHRONO_BTN_STOP.removeClass("d-none"),$CHRONO_BTN_START.addClass("d-none"),$CHRONO_BTN_RESET.addClass("d-none"),$CHRONO_BTN_RESUME.addClass("d-none"),$CHRONO_BTN_LAP.removeClass("d-none")}),$CHRONO_BTN_RESUME.on("click",()=>{time=!0,$CHRONO_BTN_START.addClass("d-none"),$CHRONO_BTN_STOP.removeClass("d-none"),$CHRONO_BTN_RESET.addClass("d-none"),$CHRONO_BTN_RESUME.addClass("d-none"),$CHRONO_BTN_LAP.removeClass("d-none")}),$CHRONO_BTN_STOP.on("click",()=>{time=!1,$CHRONO_BTN_STOP.addClass("d-none"),$CHRONO_BTN_RESET.removeClass("d-none"),$CHRONO_BTN_RESUME.removeClass("d-none"),$CHRONO_BTN_START.addClass("d-none"),$CHRONO_BTN_LAP.addClass("d-none")}),$CHRONO_BTN_RESET.on("click",()=>{startChrono=0,startLap=0,countLap=0,time=!1,$CHRONO_TABLE_LAP.addClass("d-none"),$CHRONO_INPUT_LAP.addClass("d-none"),$CHRONO_BLOCK_LAP.innerHTML="",$CHRONO_BTN_LAP.disabled=!0,$CHRONO_BTN_STOP.addClass("d-none"),$CHRONO_BTN_RESET.addClass("d-none"),$CHRONO_BTN_RESUME.addClass("d-none"),$CHRONO_BTN_START.removeClass("d-none"),$CHRONO_BTN_LAP.removeClass("d-none")}),$CHRONO_BTN_LAP.on("click",()=>{startLap=0,countLap++,15==countLap&&($CHRONO_BTN_LAP.disabled=!0,addModal("The maximum number of laps has been reached")),$CHRONO_INPUT_LAP.removeClass("d-none"),$CHRONO_TABLE_LAP.removeClass("d-none"),$CHRONO_BLOCK_LAP.scrollY+=1e3,$CHRONO_BLOCK_LAP.innerHTML+=`\n\t<tr>\n\t\t<td class="box" style="width:30px;">${countLap}</td>\n\t\t<td class="box">${$CHRONO_INPUT_LAP.value}</td>\n\t\t<td class="box">${$CHRONO_INPUT.value}</td>\n\t</tr>\n\t`}),$MENU_BTN_SHOW_TIME.on("click",()=>{$CLOCK.removeClass("d-none"),$CHRONO.addClass("d-none"),$TIMER.addClass("d-none"),$MENU_BTN_SHOW_TIME.addClass("btn-purple"),$MENU_BTN_SHOW_CHRONO.removeClass("btn-purple"),$MENU_BTN_TIMER.removeClass("btn-purple")}),$MENU_BTN_SHOW_CHRONO.on("click",()=>{$CLOCK.addClass("d-none"),$CHRONO.removeClass("d-none"),$TIMER.addClass("d-none"),$MENU_BTN_SHOW_TIME.removeClass("btn-purple"),$MENU_BTN_SHOW_CHRONO.addClass("btn-purple"),$MENU_BTN_TIMER.removeClass("btn-purple")}),$MENU_BTN_TIMER.on("click",()=>{$CLOCK.addClass("d-none"),$CHRONO.addClass("d-none"),$TIMER.removeClass("d-none"),$MENU_BTN_SHOW_TIME.removeClass("btn-purple"),$MENU_BTN_SHOW_CHRONO.removeClass("btn-purple"),$MENU_BTN_TIMER.addClass("btn-purple")}),$MODAL_BTN.on("click",()=>{$MODAL.addClass("d-none")}),darkMode&&($MODE_BTN_DARK.addClass("d-none"),$MODE_BTN_LIGHT.removeClass("d-none"),$APP.removeClass("bg-light"),$APP.addClass("bg-dark"),$MODAL_CONTAINER.removeClass("bg-light"),$MODAL_CONTAINER.addClass("bg-dark")),lightMode&&($MODE_BTN_DARK.addClass("d-none"),$MODE_BTN_LIGHT.removeClass("d-none"),$APP.removeClass("bg-dark"),$APP.addClass("bg-light"),$MODAL_CONTAINER.removeClass("bg-dark"),$MODAL_CONTAINER.addClass("bg-light")),$MODE_BTN_DARK.on("click",()=>{$APP.removeClass("bg-light"),$APP.addClass("bg-dark"),$MODAL_CONTAINER.removeClass("bg-light"),$MODAL_CONTAINER.addClass("bg-dark"),$MODE_BTN_DARK.addClass("d-none"),$MODE_BTN_LIGHT.removeClass("d-none"),$CHRONO_BTN_LAP.removeClass("btn-gray"),$CHRONO_BTN_LAP.addClass("btn-dark-gray"),$CHRONO_BTN_RESET.removeClass("btn-gray"),$CHRONO_BTN_RESET.addClass("btn-dark-gray")}),$MODE_BTN_LIGHT.on("click",()=>{$APP.removeClass("bg-dark"),$APP.addClass("bg-light"),$MODAL_CONTAINER.removeClass("bg-dark"),$MODAL_CONTAINER.addClass("bg-light"),$MODE_BTN_DARK.removeClass("d-none"),$MODE_BTN_LIGHT.addClass("d-none"),$CHRONO_BTN_LAP.removeClass("btn-dark-gray"),$CHRONO_BTN_LAP.addClass("btn-gray"),$CHRONO_BTN_RESET.removeClass("btn-dark-gray"),$CHRONO_BTN_RESET.addClass("btn-gray")}),$TIMER_BTN.on("click",()=>{setTimeout(()=>{addModal(`Time's up ${$TIMER_INPUT_HOUR.value} : ${$TIMER_INPUT_MINUTE.value} : ${$TIMER_INPUT_SECOND.value}`)},`${$TIMER_INPUT_HOUR.value}${$TIMER_INPUT_MINUTE.value}${$TIMER_INPUT_SECOND.value}000`)});